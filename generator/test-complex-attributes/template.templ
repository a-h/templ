package testcomplexattributes

templ ComplexAttributes() {
	<div
 		x-data="{darkMode: localStorage.getItem(&#39;darkMode&#39;) || localStorage.setItem(&#39;darkMode&#39;, &#39;system&#39;)}"
 		x-init="$watch(&#39;darkMode&#39;, val =&gt; localStorage.setItem(&#39;darkMode&#39;, val))"
 		:class="{&#39;dark&#39;: darkMode === &#39;dark&#39; || (darkMode === &#39;system&#39; &amp;&amp; window.matchMedia(&#39;(prefers-color-scheme: dark)&#39;).matches)}"
	></div>
	<div x-data="{ count: 0 }">
		<button
 			x-on:click="count++"
		>Increment</button>
		<span x-text="count"></span>
	</div>
	<div x-data="{ count: 0 }">
		<button
 			@click="count++"
		>Increment</button>
		<span x-text="count"></span>
	</div>
}
